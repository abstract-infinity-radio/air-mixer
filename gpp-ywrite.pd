#N canvas 516 707 2880 1453 12;
#X obj 23 34 inlet;
#X obj 313 12 inlet;
#X text 17 2 data;
#X text 295 -9 struct ctl;
#X msg 452 188 clear;
#X msg 371 188 read \$1;
#X obj 233 142 symbol;
#X obj 233 34 r \$0-SAVE;
#X text 858 171 YAML STRUCT EXAMPLE;
#X obj 462 412 loadbang;
#X obj 324 538 s \$0-SAVE;
#X obj 371 488 t b a b;
#X obj 233 65 bang;
#X obj 325 480 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 400 587 text set \$0-ywtext;
#X msg 234 187 write -c \$1;
#X text 857 192 ~/audio/pd-projects/work/wavedata/air/airoscope/yamdl.armt.test.HoH
, f 84;
#X text 855 217 ~/audio/pd-projects/work/wavedata/air/airoscope/yamdl.armt.test.LoH
, f 84;
#X msg 493 493 -1;
#X obj 371 226 text define \$0-ywtext;
#X msg 439 493 1e+15;
#X obj 544 41 loadbang;
#X obj 626 40 r \$0-CLEAR;
#X obj 354 106 s \$0-CLEAR;
#X obj 626 114 t b b b b;
#X msg 371 414 list ---;
#N canvas 0 180 1174 705 \$0-UNDO 0;
#X obj 75 61 text size \$0-ywtext;
#X obj 74 16 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 112 161 text delete \$0-ywtext;
#X floatatom 29 162 5 0 0 0 - - -;
#X text 106 30 note: threading --- line adds 1;
#X floatatom 16 99 5 0 0 0 - - -;
#X obj 78 95 - 1;
#X obj 79 130 t b f;
#X obj 18 11 inlet;
#X obj 80 199 outlet;
#X connect 0 0 5 0;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 6 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 7 1 2 0;
#X connect 8 0 0 0;
#X restore 443 139 pd \$0-UNDO;
#X obj 734 14 cnv 10 114 22 empty empty AIR 36 6 1 22 -66577 -262144
0;
#X text 734 39 Gregor Pirš 2023;
#X symbolatom 237 278 80 0 0 0 - - -;
#X obj 243 103 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 72 route outfile clear undo;
#X obj 354 248 cnv 15 200 15 empty empty empty 20 12 0 14 -260097 -66577
0;
#X obj 686 167 s \$0-DEPTHCOUNTER-ACT;
#X obj 686 140 float 0;
#X text 866 10 gpp-ywrite: produce a simple yaml-like textfile from
a stream of data/commands :: can produce any combination of old perl-ish
List or Hash using (possibly multielement) list messages with special
symbols;
#N canvas 927 278 2039 1411 \$0-COOK-A-LINE 0;
#X obj 151 599 outlet;
#X obj 87 23 inlet;
#X text 380 111 3) če se hkrati pojavijo list in hash starter in hash
value jih združi: - a: 3, f 85;
#X text 380 87 2) če se hkrati pojavita list in hash starter naj ju
združi: - a:, f 75;
#X text 380 61 1) prehod v sublisto: listo naj prefixa tudi če ni
elementa: -, f 73;
#X text 502 34 KOMBINIRANI ZGLOBI:;
#X msg 417 361 1;
#X msg 364 360 ovac;
#N canvas 737 579 1705 1146 \$0-YAML-KNUCKLE 0;
#X obj 120 45 inlet;
#X obj 214 42 inlet;
#X obj 370 45 inlet;
#X msg 137 127 -;
#X obj 94 192 list;
#X obj 112 228 list;
#X obj 133 273 list;
#X obj 299 128 symbol;
#X obj 225 103 route float;
#X msg 225 160 symbol \$1:;
#X obj 42 28 inlet;
#X msg 155 226 bang;
#X msg 175 274 bang;
#X msg 120 102 bang;
#X obj 120 70 route bang;
#X obj 214 69 route bang;
#X obj 369 74 route bang;
#X obj 131 428 outlet;
#X text 38 5 trig;
#X text 103 19 list moniker;
#X text 209 19 hash moniker;
#X text 367 21 value;
#X obj 41 60 t b b;
#X obj 134 333 list prepend;
#N canvas 296 536 1621 989 \$0-INDENT 0;
#X obj 124 166 until;
#X obj 103 93 sel 0;
#X obj 102 219 list store;
#X obj 114 132 t b f;
#X msg 125 191 prepend #;
#X obj 103 3 inlet;
#X obj 102 252 outlet;
#X msg 218 226 bang;
#X obj 103 34 t b b;
#X obj 103 63 expr x\$0depth - 1;
#X text 233 65 level 1 is now the first one \, rendered with indent
0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 0 0;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 7 0 2 1;
#X connect 8 0 9 0;
#X connect 8 1 7 0;
#X connect 9 0 1 0;
#X restore 258 295 pd \$0-INDENT;
#X connect 0 0 14 0;
#X connect 1 0 15 0;
#X connect 2 0 16 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 23 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 8 1 7 0;
#X connect 9 0 5 1;
#X connect 10 0 22 0;
#X connect 11 0 5 1;
#X connect 12 0 6 1;
#X connect 13 0 4 1;
#X connect 14 0 13 0;
#X connect 14 1 3 0;
#X connect 15 0 11 0;
#X connect 15 1 8 0;
#X connect 16 0 12 0;
#X connect 16 1 6 1;
#X connect 22 0 4 0;
#X connect 22 1 24 0;
#X connect 23 0 17 0;
#X connect 24 0 23 1;
#X restore 151 411 pd \$0-YAML-KNUCKLE;
#X obj 90 384 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 327 359 1;
#X msg 153 365 bang;
#X msg 211 364 bang;
#X msg 267 364 bang;
#X obj 87 318 r \$0-CAST;
#X obj 171 318 r \$0-LISTKEY;
#X obj 271 318 r \$0-HASHKEY;
#X obj 374 318 r \$0-VAL;
#N canvas 550 591 2121 1274 \$0-PARSE 0;
#X obj 387 11 inlet;
#X obj 387 92 list split 1;
#X obj 452 119 list split 1;
#X obj 388 188 gpp-switch2;
#X obj 387 68 t a b;
#X msg 446 66 0;
#X obj 452 145 t a b;
#X msg 484 171 1;
#X obj 620 305 sel =>;
#X obj 37 50 \$0;
#X obj 639 390 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 561 387 gpp-trap3;
#X obj 410 421 spigot;
#X msg 505 407 0, f 4;
#X obj 472 295 t b b a b;
#X msg 452 399 1;
#X obj 170 382 s \$0-DSC-LIST-ELEM;
#X obj 410 547 list store;
#X obj 410 592 s \$0-DSC-HASH-ELEM;
#X obj 563 450 t b b;
#X msg 431 483 prepend \$1;
#X obj 387 39 t a b b b;
#X msg 619 454 bang;
#X obj 563 483 list;
#X msg 38 82 \; \$1-CREFRESH bang \;;
#X text 31 121 refresh current container state, f 20;
#X obj 36 20 loadbang;
#X obj 12 21 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 157 543 s \$0-DSC-CLOSE-HK-BRIDGE;
#X obj 563 515 s \$0-DSC-OPEN-HASHKEY-BRIDGE;
#X obj 104 511 s \$0-DSC-CLOSE-HASH;
#X obj 27 405 s \$0-DSC-OPEN-LIST;
#X obj 45 444 s \$0-DSC-CLOSE-LIST;
#X obj 71 479 s \$0-DSC-OPEN-HASH;
#X obj 35 342 sel [@ @] [% %] <=;
#X connect 0 0 21 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 6 0;
#X connect 3 0 34 0;
#X connect 3 1 14 0;
#X connect 4 0 1 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 8 0;
#X connect 6 1 7 0;
#X connect 7 0 3 1;
#X connect 8 0 11 2;
#X connect 8 1 17 1;
#X connect 9 0 24 0;
#X connect 11 0 19 0;
#X connect 11 1 10 0;
#X connect 12 0 17 0;
#X connect 13 0 12 1;
#X connect 14 0 12 0;
#X connect 14 1 11 0;
#X connect 14 2 20 0;
#X connect 14 2 23 1;
#X connect 14 3 15 0;
#X connect 15 0 12 1;
#X connect 17 0 18 0;
#X connect 19 0 23 0;
#X connect 19 1 13 0;
#X connect 20 0 17 0;
#X connect 21 0 4 0;
#X connect 21 2 17 1;
#X connect 21 3 22 0;
#X connect 22 0 23 1;
#X connect 23 0 29 0;
#X connect 26 0 9 0;
#X connect 27 0 9 0;
#X connect 34 0 31 0;
#X connect 34 1 32 0;
#X connect 34 2 33 0;
#X connect 34 3 30 0;
#X connect 34 4 28 0;
#X connect 34 5 16 0;
#X restore 85 235 pd \$0-PARSE;
#N canvas 1441 636 1886 1524 \$0-DSC-LOGIC 0;
#X text 1146 292 IMPORTANT NOTE: REGLISAUTO comes BEFORE CAST \, REGLISTHASH
AFTER CAST and both explicit reglist also AFTRER CAST. THIS IS HOW
THINGS ARE (IN YAML AND DATASTRUCT), f 34;
#X symbolatom 286 146 10 0 0 3 CURRENT - -;
#X symbolatom 200 122 10 0 0 3 PREVIOUS - -;
#X symbolatom 390 131 10 0 0 3 NEXT - -;
#X text 1150 33 2 issues:;
#X text 1144 62 when moving list => list \, empty - line with old indentation
;
#X text 1139 91 when moving from list to hash \, prefixed - before
the hash key in the same line;
#X text 1139 133 see sublists.txt and list2hash.txt;
#X obj 1132 173 \$0;
#X msg 1132 202 \; \$1-LISTKEY \$1-HASHKEY \$1-VAL \$1-CAST;
#X obj 428 18 r \$0-DEPTH;
#X floatatom 429 50 5 0 0 0 - - -;
#N canvas 1389 238 1958 1208 \$0-HANDLE-LIST-ELEM 0;
#X obj 53 23 r \$0-DSC-LIST-ELEM;
#X obj 80 54 print DSC_LIST_ELEM;
#X obj 245 79 r \$0-C-CURRENT;
#X obj 205 151 symbol;
#X symbolatom 262 123 10 0 0 0 - - -;
#X obj 206 190 sel l h;
#X obj 224 415 s \$0-VAL;
#X obj 168 451 s \$0-CAST;
#X obj 224 379 list;
#X obj 53 132 t b a;
#X obj 229 248 list;
#X obj 229 304 s \$0-DSC-HASH-ELEM;
#X obj 229 275 t a b;
#X obj 281 273 s \$0-VAL;
#X text 347 270 destroy (old) VAL;
#X text 378 79 NOTE: ONE SHOULD EXPLICITELY CREATE LIST CONTAINER PRIOR
TO DECLARING LIST CONTENTS;
#X obj 207 340 t b b b;
#X text 374 293 =, f 28;
#X obj 317 465 \$0;
#X msg 315 501 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY 1
\;;
#X connect 0 0 9 0;
#X connect 2 0 3 1;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 5 0 16 0;
#X connect 5 1 10 0;
#X connect 8 0 6 0;
#X connect 9 0 3 0;
#X connect 9 1 8 1;
#X connect 9 1 10 1;
#X connect 10 0 12 0;
#X connect 12 0 11 0;
#X connect 12 1 13 0;
#X connect 16 0 7 0;
#X connect 16 1 8 0;
#X connect 16 2 18 0;
#X connect 18 0 19 0;
#X restore 364 291 pd \$0-HANDLE-LIST-ELEM;
#X obj 249 37 r \$0-C-PREVIOUS;
#X obj 290 69 r \$0-C-CURRENT;
#X obj 351 92 r \$0-C-NEXT;
#X obj 282 247 cnv 15 10 400 empty empty empty 20 12 0 14 -204800 -66577
0;
#N canvas 144 652 2880 1453 \$0-HANDLE-HASH-ELEM 0;
#X obj 85 42 r \$0-C-CURRENT;
#X obj 37 75 symbol;
#X obj 564 507 s \$0-OPEN-CONTAINER;
#X symbolatom 133 79 10 0 0 0 - - -;
#X obj 55 398 s \$0-CAST;
#X obj 188 300 list split 1;
#X obj 230 330 list split 1;
#X obj 231 430 s \$0-VAL;
#X obj 184 374 s \$0-HASHKEY;
#X obj 37 17 r \$0-DSC-HASH-ELEM;
#X obj 198 17 print DSC_HASH_ELEM;
#X msg 579 403 h;
#X obj 641 356 \$0;
#X obj 597 321 t b b b;
#X msg 641 392 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY 1
\;;
#X obj 619 475 s \$0-CAST;
#X obj 775 515 s \$0-OPEN-CONTAINER;
#X msg 774 481 h;
#X obj 852 364 \$0;
#X obj 808 329 t b b b;
#X obj 830 483 s \$0-CAST;
#X msg 852 400 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X obj 792 280 s \$0-OPEN-CONTAINER;
#X msg 791 246 h;
#X text 382 14 NOTE: singulator is not really useful here \, because
it should have each single container mapped separately. the user should
take care regarding hash key doubling. THE REAL SOLUTION would be to
make text element rewrite the old hash entry with the new value \,
but the match should be exact including INDENT which is very crucial
;
#X text 668 357 comment;
#X text 790 379 *NOT* opening container here => bridge is a (special!)
kind of hash!;
#X obj 44 167 list;
#X obj 28 123 sel h;
#X text 215 121 NOTE: ONE SHOULD EXPLICITELY CREATE HASH CONTAINER
PRIOR TO DECLARING HASH CONTENTS;
#X obj 37 44 t b a;
#X msg 339 344 \; \$1-VAL bang \; \$1-HASHKEY bang \;;
#X obj 44 195 t b b a b;
#X obj 338 306 \$0;
#X obj 42 234 \$0;
#X msg 41 271 \; \$1-LISTKEY bang \;;
#X connect 0 0 3 0;
#X connect 0 0 1 1;
#X connect 1 0 28 0;
#X connect 5 0 8 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 9 0 30 0;
#X connect 11 0 2 0;
#X connect 12 0 14 0;
#X connect 13 0 11 0;
#X connect 13 1 15 0;
#X connect 13 2 12 0;
#X connect 17 0 16 0;
#X connect 18 0 21 0;
#X connect 19 0 17 0;
#X connect 19 1 20 0;
#X connect 19 2 18 0;
#X connect 23 0 22 0;
#X connect 27 0 32 0;
#X connect 28 0 27 0;
#X connect 30 0 1 0;
#X connect 30 1 27 1;
#X connect 32 0 34 0;
#X connect 32 1 4 0;
#X connect 32 2 5 0;
#X connect 32 3 33 0;
#X connect 33 0 31 0;
#X connect 34 0 35 0;
#X restore 365 321 pd \$0-HANDLE-HASH-ELEM;
#N canvas 947 388 1726 1123 \$0-CONTAINER 0;
#X obj 311 74 bng 15 250 50 0 empty empty LVLOUT 17 7 0 6 -262144 -1
-1;
#X obj 395 134 bng 15 250 50 0 empty empty CLEAR 17 7 0 6 -262144 -1
-1;
#X floatatom 339 239 5 0 0 0 - - -;
#X obj 239 165 symbol;
#X obj 443 326 v x\$0depth;
#X msg 409 280 send \$1-DEPTH;
#X obj 409 215 t b f;
#X obj 409 249 \$0;
#X obj 386 103 loadbang;
#X obj 373 72 r \$0-CLEAR;
#X text 172 166 r = root \, level 0, f 7;
#X msg 354 32 a \, b \, c \, d \, e \, f \, g;
#X obj 50 250 s \$0-C-PREVIOUS;
#X obj 102 276 s \$0-C-CURRENT;
#X obj 166 302 s \$0-C-NEXT;
#X obj 187 38 r \$0-OPEN-CONTAINER;
#X obj 261 100 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 336 163 bng 15 250 50 0 empty empty REFRESH_OUTPUT_VALUES 17
7 0 6 -262144 -1 -1;
#X obj 481 115 r \$0-CREFRESH;
#N canvas 0 910 1519 969 \$0-ACTIVATE-CONTAINER 0;
#X obj 68 13 r \$0-C-CURRENT;
#X obj 62 100 \$0;
#X text 68 200 list elem init;
#X obj 94 229 \$0;
#X text 93 329 hash elem init;
#X msg 73 134 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY 1
\;;
#X msg 95 264 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X text 157 45 l = list | h = hash | r = root | b = hashkey bridge
, f 26;
#X obj 69 61 sel l h b r;
#X obj 327 229 \$0;
#X msg 328 264 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X text 326 329 bridge elem init;
#X text 328 344 root elem init;
#X connect 0 0 8 0;
#X connect 1 0 5 0;
#X connect 3 0 6 0;
#X connect 8 0 1 0;
#X connect 8 1 3 0;
#X connect 8 2 9 0;
#X connect 8 3 9 0;
#X connect 9 0 10 0;
#X restore 240 481 pd \$0-ACTIVATE-CONTAINER;
#X text 168 438 this one is activated when a new current level (C-CURRENT)
appears:, f 30;
#X obj 288 4 r \$0-CLOSE-CURRENT-CONTAINER;
#X msg 570 42 a;
#X msg 581 67 b;
#N canvas 907 180 2420 1716 \$0-CONTAINER-CHAIN 0;
#X obj 90 219 list store;
#X obj 285 50 loadbang;
#X msg 52 165 prepend \$1;
#X obj 90 251 list split 1;
#X msg 85 128 bang;
#X obj 28 4 inlet;
#X obj 96 5 inlet;
#X obj 374 -3 inlet;
#X obj 74 588 outlet;
#X obj 274 277 list length;
#X obj 240 207 list store;
#X obj 196 602 outlet;
#X obj 28 82 t b a a;
#X obj 97 33 t b b b;
#X obj 287 147 t b b b;
#X obj 277 332 sel 0;
#X text 193 627 CURRENT;
#X text 73 611 PREVIOUS;
#X obj 276 602 outlet;
#X text 275 625 NEXT;
#X obj 478 606 outlet;
#X obj 192 0 inlet;
#X obj 203 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 191 84 t b b b;
#X msg 415 106 symbol;
#X obj 377 65 t b b b;
#X obj 6 122 t b b b;
#X obj 263 365 t b b;
#X msg 314 402 symbol;
#X obj 193 574 symbol;
#X obj 271 573 symbol;
#X obj 184 376 list;
#X obj 189 319 bang;
#X obj 22 41 symbol;
#X msg 240 402 symbol r;
#X obj 162 425 t a a b b;
#X obj 241 245 t a a;
#X obj 178 499 list-abs/list-nth 0;
#X obj 244 529 list-abs/list-nth 1;
#X obj 177 462 spigot;
#X obj 244 464 spigot;
#X obj 277 305 t f f f f;
#X obj 469 348 sel 0;
#X obj 463 380 t b b;
#X msg 387 476 symbol;
#X obj 402 337 sel 0;
#X obj 400 369 t b b;
#X obj 466 315 t f f;
#X obj 403 306 t f f;
#X msg 333 453 symbol;
#X msg 230 130 bang;
#X symbolatom 39 667 10 0 0 0 - - -;
#X symbolatom 190 654 10 0 0 0 - - -;
#X symbolatom 333 659 10 0 0 0 - - -;
#X obj 130 287 print;
#X obj 178 290 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 400 269 > 0;
#X obj 471 283 > 1;
#X connect 0 0 3 0;
#X connect 1 0 14 0;
#X connect 2 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 8 0;
#X connect 3 0 51 0;
#X connect 3 1 0 1;
#X connect 3 1 10 1;
#X connect 4 0 0 0;
#X connect 5 0 33 0;
#X connect 6 0 13 0;
#X connect 7 0 25 0;
#X connect 9 0 41 0;
#X connect 10 0 36 0;
#X connect 12 0 26 0;
#X connect 12 1 2 0;
#X connect 13 1 23 0;
#X connect 13 2 4 0;
#X connect 14 0 0 1;
#X connect 14 1 10 0;
#X connect 14 2 10 1;
#X connect 15 0 27 0;
#X connect 15 1 32 0;
#X connect 21 0 23 0;
#X connect 22 0 23 0;
#X connect 23 2 50 0;
#X connect 25 0 23 0;
#X connect 25 1 14 0;
#X connect 25 2 24 0;
#X connect 26 0 23 0;
#X connect 26 1 10 0;
#X connect 27 0 34 0;
#X connect 27 1 28 0;
#X connect 28 0 30 1;
#X connect 29 0 11 0;
#X connect 29 0 52 0;
#X connect 30 0 18 0;
#X connect 30 0 53 0;
#X connect 31 0 35 0;
#X connect 32 0 31 0;
#X connect 33 0 12 0;
#X connect 34 0 29 0;
#X connect 35 0 39 0;
#X connect 35 1 40 0;
#X connect 36 0 9 0;
#X connect 36 1 31 1;
#X connect 37 0 29 0;
#X connect 38 0 30 0;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X connect 41 0 15 0;
#X connect 41 1 20 0;
#X connect 41 2 56 0;
#X connect 41 3 57 0;
#X connect 42 0 43 0;
#X connect 43 0 30 0;
#X connect 43 1 44 0;
#X connect 44 0 30 1;
#X connect 45 0 46 0;
#X connect 46 0 29 0;
#X connect 46 1 49 0;
#X connect 47 0 42 0;
#X connect 47 1 40 1;
#X connect 48 0 45 0;
#X connect 48 1 39 1;
#X connect 49 0 29 1;
#X connect 50 0 10 0;
#X connect 55 0 31 0;
#X connect 56 0 48 0;
#X connect 57 0 47 0;
#X restore 239 191 pd \$0-CONTAINER-CHAIN;
#X obj 664 81 r \$0-C-CURRENT;
#X symbolatom 663 109 10 0 0 0 - - -;
#X symbolatom 661 45 10 0 0 0 - - -;
#X obj 662 17 r \$0-C-PREVIOUS;
#X symbolatom 665 178 10 0 0 0 - - -;
#X obj 666 150 r \$0-C-NEXT;
#X text 44 327 FIFO LOGIC: THE 'NEXT' IS ACTUALLY THE 'PREVIOUS' WHEN
PUSH-ING;
#X connect 0 0 24 1;
#X connect 1 0 24 3;
#X connect 3 0 24 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 6 1 4 0;
#X connect 7 0 5 0;
#X connect 8 0 24 3;
#X connect 9 0 24 3;
#X connect 11 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 24 0;
#X connect 17 0 24 2;
#X connect 18 0 24 2;
#X connect 21 0 24 1;
#X connect 22 0 3 0;
#X connect 23 0 3 0;
#X connect 24 0 12 0;
#X connect 24 1 13 0;
#X connect 24 2 14 0;
#X connect 24 3 2 0;
#X connect 24 3 6 0;
#X connect 25 0 26 0;
#X connect 28 0 27 0;
#X connect 30 0 29 0;
#X restore 308 256 pd \$0-CONTAINER;
#X obj 386 168 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 262 193 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 198 182 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 23 641 3145 1409 \$0-HANDLE-OPEN-HK-BRIDGE 0;
#X obj 131 101 r \$0-C-CURRENT;
#X obj 91 148 symbol;
#X symbolatom 219 130 10 0 0 0 - - -;
#X obj 38 112 t b a;
#X obj 24 300 list;
#X obj 47 482 s \$0-CAST;
#X obj 6 514 s \$0-OPEN-CONTAINER;
#X obj 70 453 s \$0-HASHKEY;
#X obj 24 380 t b b a;
#X obj 123 299 \$0;
#X obj 92 228 t b b;
#X obj 921 292 list;
#X obj 970 478 s \$0-CAST;
#X obj 1018 446 s \$0-OPEN-CONTAINER;
#X obj 991 345 s \$0-HASHKEY;
#X msg 123 335 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X text 942 497 casting into the new container if we are hitting the
root, f 30;
#X obj 836 292 \$0;
#X obj 850 252 t b b;
#X msg 836 328 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X text 212 494 for hash / hashkey bridge - casting into the old container
, f 18;
#X msg 6 480 b;
#X obj 1174 257 list;
#X obj 1180 354 s \$0-CAST;
#X obj 1229 423 s \$0-OPEN-CONTAINER;
#X obj 1203 324 s \$0-HASHKEY;
#X symbolatom 1087 344 10 0 0 0 - - -;
#X text 47 206 on the top of HASH;
#X text 1109 230 on the top of BRIDGE;
#X text 810 230 on the top of ROOT;
#X obj 970 310 t b a b b;
#X obj 1180 289 t b a b;
#X msg 1228 387 b;
#X msg 1017 412 b;
#X obj 38 42 r \$0-DSC-OPEN-HASHKEY-BRIDGE;
#X obj 49 73 print DSC_OPEN_HASHKEY_BRIDGE;
#X text 438 30 HASH CONTAINER MUST BE PRE-DECLARED NOW \, EVEN IF CHAINING
THEM;
#X obj 92 175 sel h;
#X obj 256 223 print ERROR;
#X msg 255 191 CAN'T CREATE HK BRIDGE OUTSIDE HASH CONTAINER;
#X connect 0 0 1 1;
#X connect 0 0 2 0;
#X connect 1 0 37 0;
#X connect 3 0 1 0;
#X connect 3 1 4 1;
#X connect 4 0 8 0;
#X connect 8 1 5 0;
#X connect 8 2 7 0;
#X connect 9 0 15 0;
#X connect 10 0 4 0;
#X connect 10 1 9 0;
#X connect 11 0 30 0;
#X connect 17 0 19 0;
#X connect 18 0 11 0;
#X connect 18 1 17 0;
#X connect 21 0 6 0;
#X connect 22 0 31 0;
#X connect 30 0 12 0;
#X connect 30 1 14 0;
#X connect 30 1 26 0;
#X connect 30 2 33 0;
#X connect 31 0 23 0;
#X connect 31 1 25 0;
#X connect 31 2 32 0;
#X connect 32 0 24 0;
#X connect 33 0 13 0;
#X connect 34 0 3 0;
#X connect 37 0 10 0;
#X connect 37 1 39 0;
#X connect 39 0 38 0;
#X restore 342 538 pd \$0-HANDLE-OPEN-HK-BRIDGE;
#N canvas 0 180 2102 1606 \$0-HANDLE-CLOSE-HK-BRIDGE 0;
#X obj 66 205 r \$0-C-CURRENT;
#X obj 26 276 symbol;
#X symbolatom 83 249 10 0 0 0 - - -;
#X obj 219 209 r \$0-C-NEXT;
#X symbolatom 243 250 10 0 0 0 - - -;
#X obj 177 265 symbol;
#X msg 24 345 1;
#X msg 65 344 0;
#X msg 143 349 1;
#X obj 96 422 sel 1;
#X obj 96 395 ||;
#X text 623 74 if next = bridge \, close;
#X text 621 48 if current = hash or bridge \, close;
#X obj 176 307 sel b;
#X msg 195 343 0;
#X obj 92 142 t b b b;
#X obj 1153 281 symbol;
#X obj 1152 323 sel b;
#X obj 1152 364 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 1000 244 r \$0-C-CURRENT;
#X obj 960 315 symbol;
#X symbolatom 1017 288 10 0 0 0 - - -;
#X msg 958 384 1;
#X msg 999 383 0;
#X obj 961 350 sel h b;
#X obj 27 311 sel b;
#X obj 200 390 print NO BRIDGE ANYWHERE NEAR;
#X obj 147 101 print DSC_CLOSE_HK_BRIDGE;
#X obj 84 15 r \$0-DSC-CLOSE-HK-BRIDGE;
#X obj 40 416 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 139 484 r \$0-C-CURRENT;
#X obj 99 555 symbol;
#X symbolatom 156 528 10 0 0 0 - - -;
#X obj 158 654 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 900 703 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 962 544 symbol;
#X symbolatom 1019 517 10 0 0 0 - - -;
#X symbolatom 824 525 10 0 0 0 - - -;
#X obj 758 540 symbol;
#X obj 981 618 t b b;
#X obj 1023 661 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 759 583 sel b;
#X obj 759 618 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 962 576 sel b r h;
#X obj 910 529 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 988 657 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 952 679 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 782 678 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 1002 473 r \$0-C-NEXT;
#X obj 800 484 r \$0-C-CURRENT;
#X text 272 313 FIRST: at least one of the current+next HAS TO BE BRIDGE
\, otherwise the operation is futile;
#X text 204 577 SECOND: current is hash or list \, just slip off it
;
#X obj 108 620 t b b;
#X symbolatom 75 690 10 0 0 0 - - -;
#X obj 9 705 symbol;
#X obj 8 735 sel b;
#X obj 7 766 s \$0-CLOSE-CURRENT-CONTAINER;
#X text 227 754 THIRD: and aditional close for the bridge itself \,
if its at NEXT;
#X obj 39 648 r \$0-C-CURRENT;
#X text 109 718 NOTE: AFTER CLOSE \; NEXT WILL BE CURRENT;
#X obj 100 590 sel h l b;
#X obj 169 620 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 289 19 r \$0-DEPTH;
#X obj 84 52 f;
#X obj 85 87 > 0;
#X obj 86 115 sel 1;
#X connect 0 0 1 1;
#X connect 0 0 2 0;
#X connect 1 0 25 0;
#X connect 3 0 4 0;
#X connect 3 0 5 1;
#X connect 5 0 13 0;
#X connect 6 0 10 0;
#X connect 7 0 10 0;
#X connect 8 0 10 1;
#X connect 9 0 31 0;
#X connect 9 1 26 0;
#X connect 10 0 9 0;
#X connect 10 0 29 0;
#X connect 13 0 8 0;
#X connect 13 1 14 0;
#X connect 14 0 10 1;
#X connect 15 0 1 0;
#X connect 15 1 5 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 20 1;
#X connect 19 0 21 0;
#X connect 20 0 24 0;
#X connect 24 0 22 0;
#X connect 24 1 22 0;
#X connect 24 2 23 0;
#X connect 25 0 6 0;
#X connect 25 1 7 0;
#X connect 30 0 31 1;
#X connect 30 0 32 0;
#X connect 31 0 60 0;
#X connect 35 0 43 0;
#X connect 38 0 41 0;
#X connect 39 0 38 0;
#X connect 39 1 40 0;
#X connect 39 1 45 0;
#X connect 41 0 42 0;
#X connect 41 0 47 0;
#X connect 43 0 34 0;
#X connect 43 0 46 0;
#X connect 43 1 39 0;
#X connect 43 2 39 0;
#X connect 48 0 35 1;
#X connect 48 0 36 0;
#X connect 49 0 37 0;
#X connect 49 0 38 1;
#X connect 52 0 54 0;
#X connect 52 1 33 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 58 0 54 1;
#X connect 58 0 53 0;
#X connect 60 0 52 0;
#X connect 60 1 52 0;
#X connect 60 2 61 0;
#X connect 62 0 63 1;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 65 0 15 0;
#X restore 265 709 pd \$0-HANDLE-CLOSE-HK-BRIDGE;
#N canvas 639 180 2102 1606 \$0-HANDLE-CLOSE-HASH 0;
#X obj 144 113 r \$0-C-CURRENT;
#X obj 104 184 symbol;
#X symbolatom 161 157 10 0 0 0 - - -;
#X obj 137 339 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 71 107 bang;
#X obj 106 253 t b b;
#X obj 74 334 symbol;
#X obj 114 297 r \$0-C-CURRENT;
#X obj 74 378 sel b;
#X obj 73 416 s \$0-CLOSE-CURRENT-CONTAINER;
#X text 74 441 if BRIDGE under the list \, close it as well. then it
stops @ the hash that was the container for the BRIDGE;
#X obj 105 219 sel h;
#X obj 69 32 r \$0-DSC-CLOSE-HASH;
#X obj 100 68 print DSC_CLOSE_HASH;
#X connect 0 0 1 1;
#X connect 0 0 2 0;
#X connect 1 0 11 0;
#X connect 4 0 1 0;
#X connect 5 1 3 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 11 0 5 0;
#X connect 12 0 4 0;
#X restore 336 486 pd \$0-HANDLE-CLOSE-HASH;
#N canvas 0 180 1797 920 \$0-HANDLE-LEVELDOWN 0;
#X obj 47 35 r \$0-DSC-LEVELDOWN;
#X obj 125 93 r \$0-DEPTH;
#X floatatom 124 129 5 0 0 0 - - -;
#X obj 50 132 f;
#X obj 51 167 > 0;
#X obj 52 195 sel 1;
#X obj 52 234 s \$0-CLOSE-CURRENT-CONTAINER;
#X connect 1 0 2 0;
#X connect 1 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X restore 266 679 pd \$0-HANDLE-LEVELDOWN;
#N canvas 1420 444 2102 1606 \$0-HANDLE-OPEN-HASH 0;
#X obj 263 58 r \$0-C-CURRENT;
#X symbolatom 267 98 10 0 0 0 - - -;
#X obj 45 251 s \$0-OPEN-CONTAINER;
#X obj 45 178 t b b;
#X obj 58 16 r \$0-DSC-OPEN-HASH;
#X obj 18 72 print DSC_OPEN_HASH;
#X msg 45 222 h;
#X obj 89 483 s \$0-CAST;
#X obj 93 395 t b b;
#X msg 125 605 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X text 162 393 no CAST-ing here;
#X obj 771 97 r \$0-DEPTH;
#X floatatom 770 133 5 0 0 0 - - -;
#X obj 689 104 >= 0;
#X obj 689 137 sel 1;
#X obj 123 545 \$0;
#X obj 157 423 r \$0-DEPTH;
#X obj 156 451 > 0;
#X obj 89 439 spigot;
#X floatatom 155 478 5 0 0 0 - - -;
#X msg 404 274 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY 1
\;;
#X obj 199 102 symbol;
#X msg 198 211 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY bang
\;;
#X obj 199 174 \$0;
#X obj 404 241 \$0;
#X obj 167 74 t b b;
#X obj 199 132 sel h r l;
#X obj 372 212 t b b;
#X obj 372 354 s \$0-CAST;
#X text 442 355 cast empty list line (- );
#X connect 0 0 1 0;
#X connect 0 0 21 1;
#X connect 3 0 6 0;
#X connect 4 0 25 0;
#X connect 6 0 2 0;
#X connect 8 0 18 0;
#X connect 8 1 15 0;
#X connect 11 0 12 0;
#X connect 11 0 13 1;
#X connect 13 0 14 0;
#X connect 15 0 9 0;
#X connect 16 0 17 0;
#X connect 17 0 18 1;
#X connect 17 0 19 0;
#X connect 18 0 7 0;
#X connect 21 0 26 0;
#X connect 23 0 22 0;
#X connect 24 0 20 0;
#X connect 25 0 3 0;
#X connect 25 1 21 0;
#X connect 26 0 23 0;
#X connect 26 1 23 0;
#X connect 26 2 27 0;
#X connect 27 0 28 0;
#X connect 27 1 24 0;
#X restore 335 450 pd \$0-HANDLE-OPEN-HASH;
#N canvas 416 552 2880 1453 \$0-HANDLE-OPEN-LIST 0;
#X obj 725 366 s \$0-VAL;
#X obj 692 390 s \$0-CAST;
#X obj 692 317 t b b;
#X obj 845 95 r \$0-C-CURRENT;
#X obj 805 167 symbol;
#X symbolatom 862 139 10 0 0 0 - - -;
#X obj 692 213 list;
#X text 967 91 sublist opener will only work on list container. hashkey
bridge won't need it becaus the regular list elem is enough;
#X obj 647 261 s \$0-OPEN-CONTAINER;
#X obj 646 154 t b b;
#X msg 647 232 l;
#X text 750 338 cast with NO val! ( only list moniker );
#X obj 628 110 t b a a;
#X obj 1074 632 s \$0-VAL;
#X obj 1041 656 s \$0-CAST;
#X obj 1041 583 t b b;
#X obj 1041 479 list;
#X obj 1128 535 s \$0-OPEN-CONTAINER;
#X obj 1097 439 t b b;
#X msg 1128 506 l;
#X text 1099 604 cast with NO val! ( only list moniker );
#X text 1123 470 if called @ root;
#X obj 824 238 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 806 197 sel l r b;
#X obj 36 25 r \$0-DSC-OPEN-LIST;
#X obj 64 58 print DSC_OPEN_LIST;
#X obj 241 508 r \$0-C-CURRENT;
#X symbolatom 281 545 10 0 0 0 - - -;
#X obj 71 665 s \$0-CAST;
#X obj 37 291 s \$0-OPEN-CONTAINER;
#X obj 36 170 t b b;
#X msg 37 262 l;
#X msg 100 421 \; \$1-VAL bang \; \$1-HASHKEY bang \; \$1-LISTKEY 1
\;;
#X obj 68 346 t b b;
#X floatatom 363 219 5 0 0 0 - - -;
#X obj 465 249 sel 1;
#X obj 465 216 >= 0;
#X obj 33 332 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 100 377 \$0;
#X obj 137 508 r \$0-DEPTH;
#X obj 136 536 > 0;
#X obj 68 544 spigot;
#X floatatom 135 563 5 0 0 0 - - -;
#X obj 241 569 sel l h r;
#X obj 70 602 spigot;
#X msg 143 605 1;
#X msg 139 632 0;
#X connect 2 0 1 0;
#X connect 2 1 0 0;
#X connect 3 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 23 0;
#X connect 6 0 2 0;
#X connect 9 0 10 0;
#X connect 9 1 6 0;
#X connect 10 0 8 0;
#X connect 12 0 4 0;
#X connect 12 1 6 1;
#X connect 12 2 16 1;
#X connect 15 0 14 0;
#X connect 15 1 13 0;
#X connect 16 0 15 0;
#X connect 18 1 19 0;
#X connect 19 0 17 0;
#X connect 23 0 9 0;
#X connect 23 1 18 0;
#X connect 23 1 22 0;
#X connect 23 2 18 0;
#X connect 24 0 30 0;
#X connect 26 0 27 0;
#X connect 26 0 43 0;
#X connect 30 0 31 0;
#X connect 30 1 33 0;
#X connect 31 0 29 0;
#X connect 33 0 41 0;
#X connect 33 1 38 0;
#X connect 36 0 35 0;
#X connect 37 0 33 0;
#X connect 38 0 32 0;
#X connect 39 0 40 0;
#X connect 40 0 41 1;
#X connect 40 0 42 0;
#X connect 41 0 44 0;
#X connect 43 0 45 0;
#X connect 43 1 46 0;
#X connect 43 2 46 0;
#X connect 44 0 28 0;
#X connect 45 0 44 1;
#X connect 46 0 44 1;
#X restore 337 374 pd \$0-HANDLE-OPEN-LIST;
#N canvas 664 355 1973 1272 \$0-HANDLE-CLOSE-LIST 0;
#X obj 187 119 r \$0-C-CURRENT;
#X obj 147 190 symbol;
#X symbolatom 204 163 10 0 0 0 - - -;
#X obj 143 74 print DSC_CLOSE_LIST;
#X obj 112 38 r \$0-DSC-CLOSE-LIST;
#X obj 180 345 s \$0-CLOSE-CURRENT-CONTAINER;
#X obj 114 113 bang;
#X obj 148 225 sel l;
#X obj 149 259 t b b;
#X obj 32 434 symbol;
#X obj 72 397 r \$0-C-CURRENT;
#X obj 32 478 sel b;
#X obj 31 516 s \$0-CLOSE-CURRENT-CONTAINER;
#X text 32 541 if BRIDGE under the list \, close it as well. then it
stops @ the hash that was the container for the BRIDGE;
#X connect 0 0 1 1;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 4 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 1 5 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X restore 336 415 pd \$0-HANDLE-CLOSE-LIST;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 13 0 2 0;
#X connect 13 0 21 0;
#X connect 14 0 1 0;
#X connect 14 0 20 0;
#X connect 15 0 3 0;
#X connect 15 0 19 0;
#X restore 85 271 pd \$0-DSC-LOGIC;
#X text 290 411 assemble yaml text elem;
#X obj 315 578 print >LISTKEY;
#X obj 374 617 print >HASHKEY;
#X obj 428 659 print >VAL;
#X obj 212 474 print |||FROM_KNUCKLE|||;
#X connect 1 0 18 0;
#X connect 6 0 8 3;
#X connect 7 0 8 2;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X connect 10 0 8 1;
#X connect 11 0 8 1;
#X connect 12 0 8 2;
#X connect 13 0 8 3;
#X connect 14 0 8 0;
#X connect 15 0 8 1;
#X connect 16 0 8 2;
#X connect 17 0 8 3;
#X restore 245 364 pd \$0-COOK-A-LINE;
#X connect 0 0 36 0;
#X connect 1 0 31 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 15 0;
#X connect 6 0 29 0;
#X connect 7 0 12 0;
#X connect 9 0 18 0;
#X connect 9 0 20 0;
#X connect 11 0 10 0;
#X connect 11 1 14 0;
#X connect 12 0 6 0;
#X connect 13 0 10 0;
#X connect 15 0 19 0;
#X connect 18 0 14 2;
#X connect 20 0 14 1;
#X connect 21 0 24 0;
#X connect 22 0 24 0;
#X connect 24 0 25 0;
#X connect 24 2 4 0;
#X connect 24 3 34 0;
#X connect 25 0 11 0;
#X connect 26 0 12 0;
#X connect 30 0 6 0;
#X connect 31 0 6 0;
#X connect 31 1 23 0;
#X connect 31 2 26 0;
#X connect 34 0 33 0;
#X connect 36 0 11 0;
