#N canvas 1603 180 1863 1436 12;
#X obj 29 19 inlet~;
#X obj 182 489 gpp-tempo2;
#X obj 371 4 inlet;
#X text 431 5 ext control;
#X msg 417 167 *TRIGSTART;
#X msg 510 166 *TRIGEND;
#X obj 104 679 print >>>pitcher;
#N canvas 1058 180 2658 1239 SIMPLE_ANALYSIS 0;
#N canvas 984 180 2725 1782 \$0-WRITE-YAML 0;
#X obj 472 61 inlet;
#X obj 530 62 inlet;
#X obj 585 62 inlet;
#X obj 644 62 inlet;
#X msg 1050 400 outfile \$1;
#X obj 1073 318 r \$0-OUTFILE;
#X obj 1181 35 r \$0-TRIGSTART;
#X obj 934 419 gpp-ywrite;
#X obj 1011 36 r \$0-TRIGEND;
#X obj 375 133 / 1000;
#X obj 309 176 gpp-display-seconds;
#X obj 346 65 inlet;
#X obj 1181 98 \$0;
#X obj 233 246 list prepend \$0;
#X obj 235 211 list append;
#X obj 1153 36 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 1552 676 close previous region beats' sublist and region hash
for all regions > 1, f 18;
#X obj 1182 64 t b b b;
#X text 1768 538 [% regions=> [@ [% ... beats=> [@ [% .... %] [% ...
%];
#X text 1770 651 end: @] \, %] \, @] \;;
#X text 1768 680 recheader=> [%;
#X text 1773 717 %] %];
#X text 1769 585 trigregion: @] \, %];
#N canvas 968 180 2574 1609 \$0-END 0;
#X obj 63 56 t b;
#X obj 63 99 f;
#X obj 63 191 list append;
#X obj 63 397 list prepend \$0;
#X obj 62 423 t b a;
#X obj 62 450 print --- END;
#X obj 63 305 list append;
#X obj 63 23 inlet;
#X obj 63 343 list append;
#X obj 63 270 list append;
#X obj 143 112 t f f;
#X obj 175 165 gpp-mton2;
#X obj 175 203 unpack s f;
#X obj 175 140 ftom;
#X text 221 476 \$1=allnotesnumber \$2=average_freq \$3=average_notename
\$4=average_noteoctave \$5=average_detune_cents;
#X obj 149 75 r \$0-AVERAGEFREQ;
#X obj 149 40 r \$0-NUMPITCHES;
#X msg 93 526 \; \$1-YW @] \; \$1-YW header => \, [% \; \$1-YW number_of_pitches
\$2 \, average_frequency \$3 \, average_note_name \$4 \, average_note_octave
\$5 \, average_note_detune_cents \$6 \; \$1-YW %] \, %] \;, f 150
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 17 0;
#X connect 6 0 8 0;
#X connect 7 0 0 0;
#X connect 8 0 3 0;
#X connect 9 0 6 0;
#X connect 10 0 2 1;
#X connect 10 1 13 0;
#X connect 11 0 12 0;
#X connect 11 1 8 1;
#X connect 12 0 9 1;
#X connect 12 1 6 1;
#X connect 13 0 11 0;
#X connect 15 0 10 0;
#X connect 16 0 1 1;
#X restore 1012 82 pd \$0-END;
#X obj 1075 463 print REGISTERED_OUTFILE;
#X obj 1045 280 r \$0-YWCONTROL;
#X obj 932 282 r \$0-YW;
#X obj 707 62 inlet;
#X text 233 343 (close pitch subhash);
#X text 646 9 <=======precendence;
#X obj 346 103 t f f;
#N canvas 1697 359 1721 804 \$0-COUNT-PITCHES-RECORDING 0;
#X obj 53 135 gpp-adder3 0;
#X obj 50 25 inlet;
#X obj 169 54 r \$0-TRIGSTART;
#X obj 168 137 gpp-adder3 0;
#X obj 54 220 outlet;
#X obj 171 222 outlet;
#X obj 49 57 t f b;
#X msg 171 111 1;
#X obj 54 181 expr $f1 / $f2;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 3 1;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 3 0 8 1;
#X connect 6 0 0 0;
#X connect 6 1 7 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X restore 508 388 pd \$0-COUNT-PITCHES-RECORDING;
#X obj 472 94 t f f;
#X obj 558 180 list prepend \$0;
#X obj 683 93 t f b;
#X obj 715 123 \$0;
#X msg 715 155 \; \$1-YW [% \;;
#X obj 508 445 s \$0-AVERAGEFREQ;
#X obj 709 443 s \$0-NUMPITCHES;
#X floatatom 750 406 5 0 0 0 - - -;
#X floatatom 473 257 5 0 0 0 - - -;
#X text 344 43 timing;
#X obj 562 345 print WOOOF-------------->>>>;
#X floatatom 455 407 5 0 0 0 - - -;
#X obj 1073 360 gpp-add-extension \$1;
#X msg 1181 134 \; \$1-YWCONTROL clear \; \$1-YW [% \, pitch => \,
[@ \;;
#X msg 234 278 \; \$1-YW at_ms \$2 \; \$1-YW at_time \$3 \; \$1-YW
%] \;;
#X text 789 221 NOTE: detune assumes a1=440Hz tuning. No tuning, f
22;
#X obj 768 62 inlet;
#X obj 557 140 pack f s f f f f f;
#X msg 558 206 \; \$1-YW frequency \$2 \; \$1-YW note_name \$3 \; \$1-YW
note_octave \$4 \; \$1-YW note_detune_cents \$5 \; \$1-YW env \$6 \;
\$1-YW id \$7 \; \$1-YW note_midivalue \$8 \;, f 31;
#X text 472 38 freq|notename|octave|detune_cents|env|midivalue;
#X connect 0 0 32 0;
#X connect 1 0 49 1;
#X connect 2 0 49 2;
#X connect 3 0 49 3;
#X connect 4 0 7 1;
#X connect 5 0 44 0;
#X connect 6 0 17 0;
#X connect 8 0 23 0;
#X connect 9 0 10 0;
#X connect 10 0 14 1;
#X connect 11 0 30 0;
#X connect 12 0 45 0;
#X connect 13 0 46 0;
#X connect 14 0 13 0;
#X connect 15 0 17 0;
#X connect 17 0 12 0;
#X connect 25 0 7 1;
#X connect 26 0 7 0;
#X connect 27 0 34 0;
#X connect 30 0 14 0;
#X connect 30 1 9 0;
#X connect 31 0 37 0;
#X connect 31 0 43 0;
#X connect 31 1 38 0;
#X connect 31 1 39 0;
#X connect 31 1 49 5;
#X connect 32 0 40 0;
#X connect 32 0 49 0;
#X connect 32 1 31 0;
#X connect 33 0 50 0;
#X connect 34 0 49 4;
#X connect 34 1 35 0;
#X connect 35 0 36 0;
#X connect 44 0 4 0;
#X connect 44 0 24 0;
#X connect 48 0 49 6;
#X connect 49 0 33 0;
#X restore 102 322 pd \$0-WRITE-YAML;
#X obj 176 181 unpack s f;
#X obj 123 15 inlet;
#X obj 123 47 unpack f f f;
#X text 167 15 timing|midiote|env;
#X obj 81 373 print =>YWPITCH[TIMECODE];
#X obj 235 439 print =>YWPITCH[NOTENAME];
#X obj 326 471 print =>YWPITCH[OCTAVE];
#X obj 414 505 print =>YWPITCH[DETUNE_CENTS];
#X obj 571 537 print =>YWPITCH[ENV];
#X obj 163 405 print =>YWPITCH[FREQ];
#X obj 138 141 mtof;
#X text 241 323 timing|freq|notename|octave|detune_cents|env;
#X obj 164 80 t f f f;
#X obj 670 569 print =>YWPITCH[MIDINOTE];
#X obj 363 182 expr round($f1);
#X obj 177 139 gpp-mton3;
#X text 252 139 <--- international note symbols;
#X connect 1 0 6 0;
#X connect 1 0 0 2;
#X connect 1 1 7 0;
#X connect 1 1 0 3;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 3 0 5 0;
#X connect 3 1 13 0;
#X connect 3 2 9 0;
#X connect 3 2 0 5;
#X connect 11 0 10 0;
#X connect 11 0 0 1;
#X connect 13 0 11 0;
#X connect 13 1 16 0;
#X connect 13 2 15 0;
#X connect 15 0 0 6;
#X connect 15 0 14 0;
#X connect 16 0 1 0;
#X connect 16 1 8 0;
#X connect 16 1 0 4;
#X restore 182 587 pd SIMPLE_ANALYSIS;
#X obj 182 523 list split 1;
#X obj 417 210 print PITCHER;
#X obj 182 458 t b a;
#X obj 182 423 pack f f;
#X obj 182 554 list;
#X obj 181 338 spigot;
#X msg 262 335 1;
#X msg 250 368 0;
#X msg 298 264 waitstart;
#X obj 338 378 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 54 328 5 0 0 0 - - -;
#X obj 321 406 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 31 239 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 181 305 sigmund~ -minpower 5 -hop 256 -growth 3 -npts 2048 notes
env, f 61;
#X obj 200 172 t b b b;
#X obj 182 208 s \$0-TRIGSTART;
#X obj 310 170 t b b;
#X obj 296 208 s \$0-TRIGEND;
#X obj 503 74 s \$0-INFILE;
#X obj 569 107 s \$0-OUTFILE;
#X obj 371 32 route trigstart trigend infile outfile;
#X obj 197 119 bang;
#X obj 318 115 bang;
#X connect 0 0 21 0;
#X connect 1 0 8 0;
#X connect 2 0 28 0;
#X connect 4 0 9 0;
#X connect 5 0 9 0;
#X connect 8 0 12 0;
#X connect 10 0 1 0;
#X connect 10 1 12 1;
#X connect 11 0 10 0;
#X connect 12 0 7 0;
#X connect 12 0 6 0;
#X connect 13 0 18 0;
#X connect 13 0 11 0;
#X connect 14 0 13 1;
#X connect 14 0 19 0;
#X connect 15 0 13 1;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 16 0 1 1;
#X connect 21 0 13 0;
#X connect 21 0 20 0;
#X connect 21 1 11 1;
#X connect 22 0 23 0;
#X connect 22 1 16 0;
#X connect 22 2 14 0;
#X connect 24 0 25 0;
#X connect 24 1 15 0;
#X connect 28 0 29 0;
#X connect 28 1 30 0;
#X connect 28 2 26 0;
#X connect 28 3 27 0;
#X connect 29 0 4 0;
#X connect 29 0 22 0;
#X connect 30 0 5 0;
#X connect 30 0 24 0;
